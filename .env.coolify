# Backend API Configuration

# Server Configuration
HOST=0.0.0.0
PORT=3000

# Security - IP Filtering para ROTAS ADMINISTRATIVAS
# ⚠️ APÓS FASE 1: Apenas /logs, /zerotier, /security verificam este IP
# Rotas públicas (/auth, /docs, /) e autenticadas (/api/*) NÃO usam ipFilter
# 
# Produção (Coolify): 177.73.207.121 (IP do servidor via Nginx/Caddy proxy)
#                    + 10.244.0.0/16 (VPN ZeroTier para acesso admin)
# 
# Como funciona:
# - Nginx/Caddy recebe requisições públicas e faz proxy com IP 177.73.207.121
# - API autoriza este IP para passar pelo servidor
# - Rotas públicas: qualquer usuário acessa (sem ipFilter)
# - Rotas autenticadas: apenas com JWT válido (requireAuth)
# - Rotas admin: apenas IPs da VPN ZeroTier (ipFilter + requireAdmin)
ALLOWED_IPS=177.73.207.121,10.244.0.0/16

# Frontend URL (para CORS e redirects)
FRONTEND_URL=https://samm.host

# Supabase Configuration (Produção - Coolify interno)
SUPABASE_URL=https://samm.host/supabase
SUPABASE_INTERNAL_URL=http://supabase-kong:8000
SUPABASE_ANON_KEY=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJzdXBhYmFzZSIsImlhdCI6MTc2MDgzNjAyMCwiZXhwIjo0OTE2NTA5NjIwLCJyb2xlIjoiYW5vbiJ9.xu-wG-XwUj9ONYoFnthyVk7rhm7HAoOGBH0CwicNdFw
SUPABASE_SERVICE_ROLE_KEY=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJzdXBhYmFzZSIsImlhdCI6MTc2MDgzNjAyMCwiZXhwIjo0OTE2NTA5NjIwLCJyb2xlIjoic2VydmljZV9yb2xlIn0.5-gIzyxIrbWSRhrdPAOLpMf_xfoANe4JSpKjjOs4NiY

# Session Configuration
SESSION_SECRET=seu-secret-de-producao-super-seguro-aqui-min-32-chars
SESSION_MAX_AGE=86400000

# Environment
NODE_ENV=production
